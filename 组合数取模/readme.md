## 素数
经常能在做题的时候遇到一些数，比如1000000007，需要将答案对该数取模。取模能理解，答案的范围超出了int表示范围；但觉得奇怪为什么是这样一个数。其实1000000007是一个素数（质数）。

## 组合数
求取组合数的方法有两种，一是直接计算，二是利用杨辉三角形，三是求逆元  
**直接计算**  
利用公式 C(n,m)=(n\*...\*(n-m+1))/(m\*...\*1)  
但是直接计算容易产生溢出，比如C(28,27)，结果并不大，但是因为分子和分母的连乘，阶乘爆炸，在得出结果之前就会溢出。

**杨辉三角形**  
组合数其实就是二项式系数，杨辉三角形每一行表示的就是二项式系数，而杨辉三角形可以通过递推的方式进行求解，对于范围较小的组合数，可以通过构造杨辉三角形求解，代码在yanghui.cpp中。暴力打表┐(ﾟ～ﾟ)┌
```
1
1 1
1 2 1
1 3 3 1
1 4 6 4 1
1 5 10 10 5 1
1 6 15 20 15 6 1
1 7 21 35 35 21 7 1
1 8 28 56 70 56 28 8 1
1 9 36 84 126 126 84 36 9 1
1 10 45 120 210 252 210 120 45 10 1
```

**逆元求组合数**  
一般题目要求对结果对某个质数p取模  

费马小定理：如果a，p互质，即a，p的最大公约数是1，则 {a^(p-1)} % p=1；  
假如a是整数，p是质数，且a,p互质，那么a的(p-1)次方除以p的余数恒等于1；  
逆元是抵销运算用的，我感觉这里叫逆元不合适；  
利用逆元可以将除法取模转换成乘法取模，比如  
a/b % p   
= a/b * b^(p-1) % p 原因就是费马小定理  
= a * b^(p-2) % p 我们称 b^(p-2) 是b的逆元

C(n,m)
= n!/(n-m)!/m! % p  
= [n!/(n-m)! %p ] * (m%p)^(p-2) %p  
这就是lucas算法里的C函数



## 组合数取模
对于范围较大的数，解的范围都已经超出了int的表示范围，所以较多的赛题会要求对结果取模。这种情况下，杨辉三角形也已经无能为力。题目里mod值不是随便取的，一般是一个较大的质数。   
- (a + b) % p = (a % p + b % p) % p
- (a - b) % p = (a % p - b % p) % p
- (a * b) % p = (a % p * b % p) % p 
- a ^ b % p = ((a % p)^b) % p

## Lucas定理
数论中有一个关于组合数取模的定理，叫“Lucas定理”：
```
C(n,m)%p=C(n/p,m/p)*C(n%p,m%p)%p
其中p为素数
```

对于大组合数取模，n,m不大于10^5的v话，用逆元的方法，可以解决。对于n,m大于10^5的话，那么要求p<10^5，这样就是Lucas定理了，将n,m转化到10^5以内解。

## 例子
腾讯的一道笔试题  
题目：假设A长的歌有X首，B长的歌有Y首，现在需要组合出长度为K的歌单，每首歌只能使用一遍，求所有组合的可能，最后结果可能很大，要求对1000000007取模  

思路：查看 0<=i<=X,0<=j<=Y 的每种组合，如果总长度为K，则计算C(X,i)*C(Y,j)